<?xml version="1.0"?>
  <CLASS_ROOT>
    <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
    <VERSION>1</VERSION>
    <LANGU>I</LANGU>
    <DESCRIPT>Gestore lock</DESCRIPT>
    <UUID>AFBWohs+Htev+hUz/oMAzg==</UUID>
    <CATEGORY>00</CATEGORY>
    <EXPOSURE>2</EXPOSURE>
    <STATE>1</STATE>
    <RELEASE>0</RELEASE>
    <AUTHOR>NOVEDEV</AUTHOR>
    <CREATEDON>2017-11-02</CREATEDON>
    <CHANGEDON>0000-00-00</CHANGEDON>
    <CHGDANYON>0000-00-00</CHGDANYON>
    <CLSFINAL>X</CLSFINAL>
    <CLSCCINCL>X</CLSCCINCL>
    <FIXPT>X</FIXPT>
    <UNICODE>X</UNICODE>
    <R3RELEASE>702</R3RELEASE>
    <CLSBCCAT>00</CLSBCCAT>
    <DURATION_TYPE>0</DURATION_TYPE>
    <RISK_LEVEL>0</RISK_LEVEL>
    <ATTRIBUTES>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>GV_CLIENT</CMPNAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <DESCRIPT>Identificatore mandante dell&apos;utente attuale</DESCRIPT>
        <EXPOSURE>0</EXPOSURE>
        <STATE>1</STATE>
        <EDITORDER>1</EDITORDER>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <ATTDECLTYP>0</ATTDECLTYP>
        <ATTEXPVIRT>0</ATTEXPVIRT>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>SY-MANDT</TYPE>
        <SRCROW1>0</SRCROW1>
        <SRCCOLUMN1>0</SRCCOLUMN1>
        <SRCROW2>0</SRCROW2>
        <SRCCOLUMN2>0</SRCCOLUMN2>
        <R3RELEASE>702</R3RELEASE>
        <TYPESRC_LENG>0</TYPESRC_LENG>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>GV_TIME</CMPNAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <EXPOSURE>0</EXPOSURE>
        <STATE>1</STATE>
        <EDITORDER>2</EDITORDER>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <ATTDECLTYP>0</ATTDECLTYP>
        <ATTEXPVIRT>0</ATTEXPVIRT>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>I</TYPE>
        <SRCROW1>0</SRCROW1>
        <SRCCOLUMN1>0</SRCCOLUMN1>
        <SRCROW2>0</SRCROW2>
        <SRCCOLUMN2>0</SRCCOLUMN2>
        <R3RELEASE>702</R3RELEASE>
        <TYPESRC_LENG>0</TYPESRC_LENG>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>GV_GNAME</CMPNAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <EXPOSURE>0</EXPOSURE>
        <STATE>1</STATE>
        <EDITORDER>3</EDITORDER>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <ATTDECLTYP>0</ATTDECLTYP>
        <ATTEXPVIRT>0</ATTEXPVIRT>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>STRING</TYPE>
        <SRCROW1>0</SRCROW1>
        <SRCCOLUMN1>0</SRCCOLUMN1>
        <SRCROW2>0</SRCROW2>
        <SRCCOLUMN2>0</SRCCOLUMN2>
        <R3RELEASE>702</R3RELEASE>
        <TYPESRC_LENG>0</TYPESRC_LENG>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>GV_GARG</CMPNAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <EXPOSURE>0</EXPOSURE>
        <STATE>1</STATE>
        <EDITORDER>4</EDITORDER>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <ATTDECLTYP>0</ATTDECLTYP>
        <ATTEXPVIRT>0</ATTEXPVIRT>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>STRING</TYPE>
        <SRCROW1>0</SRCROW1>
        <SRCCOLUMN1>0</SRCCOLUMN1>
        <SRCROW2>0</SRCROW2>
        <SRCCOLUMN2>0</SRCCOLUMN2>
        <R3RELEASE>702</R3RELEASE>
        <TYPESRC_LENG>0</TYPESRC_LENG>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>GV_GUNAME</CMPNAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <DESCRIPT>Nome utente</DESCRIPT>
        <EXPOSURE>0</EXPOSURE>
        <STATE>1</STATE>
        <EDITORDER>5</EDITORDER>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <ATTDECLTYP>0</ATTDECLTYP>
        <ATTEXPVIRT>0</ATTEXPVIRT>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>SY-UNAME</TYPE>
        <SRCROW1>0</SRCROW1>
        <SRCCOLUMN1>0</SRCCOLUMN1>
        <SRCROW2>0</SRCROW2>
        <SRCCOLUMN2>0</SRCCOLUMN2>
        <R3RELEASE>702</R3RELEASE>
        <TYPESRC_LENG>0</TYPESRC_LENG>
      </item>
    </ATTRIBUTES>
    <METHODS>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>CONSTRUCTOR</CMPNAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <EXPOSURE>2</EXPOSURE>
        <STATE>1</STATE>
        <EDITORDER>1</EDITORDER>
        <DISPID>0</DISPID>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <MTDTYPE>2</MTDTYPE>
        <MTDDECLTYP>0</MTDDECLTYP>
        <R3RELEASE>702</R3RELEASE>
        <BCMTDCAT>00</BCMTDCAT>
        <BCMTDSYN>0</BCMTDSYN>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>GET_LOCK</CMPNAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <EXPOSURE>2</EXPOSURE>
        <STATE>1</STATE>
        <EDITORDER>2</EDITORDER>
        <DISPID>0</DISPID>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <MTDTYPE>0</MTDTYPE>
        <MTDDECLTYP>0</MTDDECLTYP>
        <R3RELEASE>702</R3RELEASE>
        <BCMTDCAT>00</BCMTDCAT>
        <BCMTDSYN>0</BCMTDSYN>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>WAIT_LOCK</CMPNAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <EXPOSURE>2</EXPOSURE>
        <STATE>1</STATE>
        <EDITORDER>3</EDITORDER>
        <DISPID>0</DISPID>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <MTDTYPE>0</MTDTYPE>
        <MTDDECLTYP>0</MTDDECLTYP>
        <R3RELEASE>702</R3RELEASE>
        <BCMTDCAT>00</BCMTDCAT>
        <BCMTDSYN>0</BCMTDSYN>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>SET_LOCK</CMPNAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <EXPOSURE>2</EXPOSURE>
        <STATE>1</STATE>
        <EDITORDER>4</EDITORDER>
        <DISPID>0</DISPID>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <MTDTYPE>0</MTDTYPE>
        <MTDDECLTYP>0</MTDDECLTYP>
        <R3RELEASE>702</R3RELEASE>
        <BCMTDCAT>00</BCMTDCAT>
        <BCMTDSYN>0</BCMTDSYN>
      </item>
    </METHODS>
    <EVENTS/>
    <TYPES/>
    <PARAMETERS>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>CONSTRUCTOR</CMPNAME>
        <SCONAME>IV_CLIENT</SCONAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <DESCRIPT>Identificatore mandante dell&apos;utente attuale</DESCRIPT>
        <CMPTYPE>1</CMPTYPE>
        <MTDTYPE>2</MTDTYPE>
        <EDITORDER>1</EDITORDER>
        <DISPID>0</DISPID>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <PARDECLTYP>0</PARDECLTYP>
        <PARPASSTYP>0</PARPASSTYP>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>SY-MANDT</TYPE>
        <PARVALUE>SY-MANDT</PARVALUE>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>CONSTRUCTOR</CMPNAME>
        <SCONAME>IV_TIME</SCONAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <CMPTYPE>1</CMPTYPE>
        <MTDTYPE>2</MTDTYPE>
        <EDITORDER>2</EDITORDER>
        <DISPID>0</DISPID>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <PARDECLTYP>0</PARDECLTYP>
        <PARPASSTYP>0</PARPASSTYP>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>I</TYPE>
        <PARVALUE>10</PARVALUE>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>CONSTRUCTOR</CMPNAME>
        <SCONAME>IV_GNAME</SCONAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <CMPTYPE>1</CMPTYPE>
        <MTDTYPE>2</MTDTYPE>
        <EDITORDER>3</EDITORDER>
        <DISPID>0</DISPID>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <PARDECLTYP>0</PARDECLTYP>
        <PARPASSTYP>0</PARPASSTYP>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>STRING</TYPE>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>CONSTRUCTOR</CMPNAME>
        <SCONAME>IV_GARG</SCONAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <CMPTYPE>1</CMPTYPE>
        <MTDTYPE>2</MTDTYPE>
        <EDITORDER>4</EDITORDER>
        <DISPID>0</DISPID>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <PARDECLTYP>0</PARDECLTYP>
        <PARPASSTYP>0</PARPASSTYP>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>STRING</TYPE>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>CONSTRUCTOR</CMPNAME>
        <SCONAME>IV_GUNAME</SCONAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <DESCRIPT>Nome utente</DESCRIPT>
        <CMPTYPE>1</CMPTYPE>
        <MTDTYPE>2</MTDTYPE>
        <EDITORDER>5</EDITORDER>
        <DISPID>0</DISPID>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <PARDECLTYP>0</PARDECLTYP>
        <PARPASSTYP>0</PARPASSTYP>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>SY-UNAME</TYPE>
        <PARVALUE>SPACE</PARVALUE>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>GET_LOCK</CMPNAME>
        <SCONAME>RS_ENQ</SCONAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <DESCRIPT>Campi interattivi per vis./canc. Enqueue SM12</DESCRIPT>
        <CMPTYPE>1</CMPTYPE>
        <MTDTYPE>0</MTDTYPE>
        <EDITORDER>1</EDITORDER>
        <DISPID>0</DISPID>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <PARDECLTYP>3</PARDECLTYP>
        <PARPASSTYP>0</PARPASSTYP>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>SEQG3</TYPE>
      </item>
      <item>
        <CLSNAME>ZCL_BC_LOCK_HANDLER</CLSNAME>
        <CMPNAME>WAIT_LOCK</CMPNAME>
        <SCONAME>RV_RET</SCONAME>
        <VERSION>1</VERSION>
        <LANGU>I</LANGU>
        <CMPTYPE>1</CMPTYPE>
        <MTDTYPE>0</MTDTYPE>
        <EDITORDER>1</EDITORDER>
        <DISPID>0</DISPID>
        <AUTHOR>NOVEDEV</AUTHOR>
        <CREATEDON>2017-11-02</CREATEDON>
        <CHANGEDON>0000-00-00</CHANGEDON>
        <PARDECLTYP>3</PARDECLTYP>
        <PARPASSTYP>0</PARPASSTYP>
        <TYPTYPE>1</TYPTYPE>
        <TYPE>I</TYPE>
      </item>
    </PARAMETERS>
    <EXCEPTIONS/>
    <IMPLEMENTINGS/>
    <IMPL_DETAILS/>
    <FRIENDSHIPS/>
    <TYPEPUSAGES/>
    <CLSDEFERRDS/>
    <INTDEFERRDS/>
    <ALIASES/>
    <INHERITANCE>
      <VERSION>0</VERSION>
      <STATE>0</STATE>
      <CREATEDON>0000-00-00</CREATEDON>
      <CHANGEDON>0000-00-00</CHANGEDON>
    </INHERITANCE>
    <INTERFACES/>
    <REDEFINITIONS/>
    <TYPE_SOURCE/>
    <LOCALS_SRC/>
    <LOCALS_DEF>
      <item>*&quot;* use this source file for any type of declarations (class</item>
      <item>*&quot;* definitions, interfaces or type declarations) you need for</item>
      <item>*&quot;* components in the private section</item>
      <item/>
    </LOCALS_DEF>
    <LOCALS_IMP>
      <item>*&quot;* use this source file for the definition and implementation of</item>
      <item>*&quot;* local helper classes, interface definitions and type</item>
      <item>*&quot;* declarations</item>
      <item/>
    </LOCALS_IMP>
    <LOCALS_MAC>
      <item>*&quot;* use this source file for any macro definitions you need</item>
      <item>*&quot;* in the implementation part of the class</item>
      <item/>
    </LOCALS_MAC>
    <TEXT_POOL/>
    <METHOD_SOURCE>
      <CONSTRUCTOR>
        <item>METHOD constructor.</item>
        <item> gv_client = iv_client.</item>
        <item> gv_time = iv_time.</item>
        <item> gv_gname = iv_gname.</item>
        <item> gv_garg = iv_garg.</item>
        <item> gv_guname = iv_guname.</item>
        <item>ENDMETHOD.</item>
      </CONSTRUCTOR>
      <GET_LOCK>
        <item>METHOD get_lock.</item>
        <item> DATA: lt_enq TYPE TABLE OF seqg3,</item>
        <item> lv_gname TYPE seqg3-gname,</item>
        <item> lv_garg TYPE seqg3-garg.</item>
        <item/>
        <item> CLEAR: rs_enq.</item>
        <item> REFRESH: lt_enq.</item>
        <item> lv_gname = gv_gname.</item>
        <item> lv_garg = gv_garg.</item>
        <item> CALL FUNCTION &apos;ENQUEUE_READ&apos;</item>
        <item> EXPORTING</item>
        <item> gclient = gv_client</item>
        <item> gname = lv_gname</item>
        <item> garg = lv_garg</item>
        <item> guname = gv_guname</item>
        <item>* LOCAL = &apos; &apos;</item>
        <item>* FAST = &apos; &apos;</item>
        <item>* GARGNOWC = &apos; &apos;</item>
        <item>* IMPORTING</item>
        <item>* NUMBER =</item>
        <item>* SUBRC =</item>
        <item> TABLES</item>
        <item> enq = lt_enq</item>
        <item> EXCEPTIONS</item>
        <item> communication_failure = 1</item>
        <item> system_failure = 2</item>
        <item> OTHERS = 3.</item>
        <item/>
        <item> READ TABLE lt_enq INTO rs_enq INDEX 1.</item>
        <item/>
        <item>ENDMETHOD.</item>
      </GET_LOCK>
      <SET_LOCK>
        <item>method SET_LOCK.</item>
        <item>endmethod.</item>
      </SET_LOCK>
      <WAIT_LOCK>
        <item>METHOD wait_lock.</item>
        <item> rv_ret = 8.</item>
        <item> DATA: lv_times TYPE i,</item>
        <item> ls_enq TYPE enq.</item>
        <item/>
        <item> lv_times = gv_time * 2.</item>
        <item> DO lv_times TIMES.</item>
        <item> ls_enq = get_lock( ).</item>
        <item> IF ( ls_enq IS INITIAL ).</item>
        <item> rv_ret = 0.</item>
        <item> EXIT.</item>
        <item> ENDIF.</item>
        <item> WAIT UP TO &apos;0.5&apos; SECONDS.</item>
        <item> ENDDO.</item>
        <item>ENDMETHOD.</item>
      </WAIT_LOCK>
    </METHOD_SOURCE>
  </CLASS_ROOT>
